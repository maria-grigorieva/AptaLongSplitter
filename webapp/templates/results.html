{% extends "base.html" %}

{% block body%}
<nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">Sequence Distributions</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
      <div class="navbar-nav">
        <a class="nav-link" aria-current="page" href="/">Home</a>
        <a class="nav-link active" href="../results">Results</a>
        <a class="nav-link" href="../sessions">Saved Sessions</a>
        <a class="nav-link" href="contacts">Contacts</a>
      </div>
    </div>
  </div>
</nav>
<div class="container">
	<h1 class="my-4 text-center">Sequence Occurrences</h1>
<div class="container mt-5">
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">Input Data</h3>
            </div>
            <div class="card-body ps-2">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item"><strong>Session Name:</strong> {{ data['session_name'] }}</li>
                    {% for key, value in data['sequences'].items() %}
                        <li class="list-group-item"><strong>{{ key }}:</strong> {{ value }}</li>
                    {% endfor %}
                    <li class="list-group-item"><strong>Limit:</strong> {{ data['parameters']['limit'] }}</li>
                    <li class="list-group-item"><strong>Threshold:</strong> {{ data['parameters']['threshold'] }}</li>
                    <li class="list-group-item"><strong>Smoothing:</strong> {{ data['parameters']['smoothing'] }}</li>
                    <li class="list-group-item"><strong>Filename:</strong> {{ data['parameters']['filename'] }}</li>
                </ul>
            </div>
        </div>
    </div>

    <div id='chart1' class='chart'”></div>
<!--    <div id='chart2' class='chart'”></div>-->
    <h2>Peaks Statistics</h2>
    <div id='chart3' class='chart'”></div>
</div>
        <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
        <script type='text/javascript'>
          var graph1 = {{plots['hist1'] | safe}};
          var graph3 = {{plots['peaks'] | safe}};
          // var graph2 = {{plots['hist2'] | safe}};
          Plotly.plot('chart1',graph1,{});
          // Plotly.plot('chart2',graph2,{});
          Plotly.plot('chart3',graph3,{});
        </script>
{% endblock %}